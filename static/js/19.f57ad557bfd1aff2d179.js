webpackJsonp([19],{"96uO":function(t,e,s){var a=s("D4WA");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("FIqI")("778bfc63",a,!0,{})},D4WA:function(t,e,s){var a=s("L4zZ");(t.exports=s("UTlt")(!1)).push([t.i,".list-ul[data-v-0da54fee]{padding:0 0 1.2rem}.list-head[data-v-0da54fee]{padding:.21rem .3rem .22rem}.list-head-tips[data-v-0da54fee]{font-size:.28rem}.machine-ul[data-v-0da54fee]{background:#fff}.choose-status[data-v-0da54fee]{width:.69rem;height:.35rem;background:url("+a(s("3yGI"))+") no-repeat 0;background-size:.32rem auto}.choose-status.on[data-v-0da54fee]{background:url("+a(s("ht47"))+") no-repeat 0;background-size:.32rem auto}.machine-li[data-v-0da54fee]{padding:.17rem .3rem .29rem;border-bottom:1px solid #e5e5e5}.machine-name[data-v-0da54fee]{width:4rem;overflow:hidden;text-overflow:ellipsis;-ms-text-overflow:ellipsis;white-space:nowrap;font-size:.32rem;padding-bottom:.11rem}.machine-tips[data-v-0da54fee]{margin-right:.1rem;display:inline-block;font-size:.24rem;padding:.02rem .16rem .03rem}.machine-tips.colorfff[data-v-0da54fee]{background:#c2c1c1}.machine-tips.colorEA[data-v-0da54fee]{background:-webkit-gradient(linear,left top,right top,from(#efd8b1),to(#fefdeb));background:linear-gradient(90deg,#efd8b1 0,#fefdeb)}.choose-text[data-v-0da54fee]{font-size:.26rem}.footer-box[data-v-0da54fee]{position:absolute;bottom:0;left:0;width:100%}.add-btn[data-v-0da54fee],.choose-btn[data-v-0da54fee],.delete-btn[data-v-0da54fee],.set-btn[data-v-0da54fee]{height:1.16rem;font-size:.32rem}.add-btn[data-v-0da54fee],.set-btn[data-v-0da54fee]{width:50%}.add-btn[data-v-0da54fee]{text-align:center}.add-btn[data-v-0da54fee],.choose-btn[data-v-0da54fee]{background:#fff;border-top:1px solid #e5e5e5}.add-btn>p[data-v-0da54fee]{line-height:1.16rem;display:inline-block;padding-left:.42rem;background:url("+a(s("U+JN"))+") no-repeat 0;background-size:.34rem auto}.delete-btn[data-v-0da54fee]{-webkit-box-flex:1;-ms-flex:1;flex:1}.delete-btn[data-v-0da54fee],.set-btn[data-v-0da54fee]{background:#ea3f3f;border-top:1px solid #ea3f3f}.choose-btn[data-v-0da54fee]{width:4.67rem;padding:.18rem 0 0 .3rem}.choose-btn>p[data-v-0da54fee]:first-child{padding-left:.44rem;background:url("+a(s("3yGI"))+") no-repeat 0;background-size:.32rem auto}.choose-btn>p.on[data-v-0da54fee]:first-child{background:url("+a(s("ht47"))+") no-repeat 0;background-size:.32rem auto}.choose-tips[data-v-0da54fee]{font-size:.24rem}",""])},"U+JN":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAASFBMVEUAAAAiGBQVFRQcDQ0hFhIiFhMhFhEgFxMiGBQjFxMiFRQiFxIiGRIhFxAgFRAeDw8AAAAhGBMhGBIiFRIhFhIiGA0eFxIhGBIo5YZUAAAAGHRSTlMAZgsHOU4uNjNBI2FSHhcQAV5UR0UTKVU+yQKFAAAA9UlEQVQ4y41UWRaDIAxkLMrmUtx6/5v2iQ+MxprOD6BDNjJRBEMzf2KIn7kZ1B3evsWB1r8Zox8B1Nb3S+9tDWDsLwwLBFOVY2UCYE9OHDAnwkGaAUecOaBhrhvA0YNXHP64uJQtt7PsuxqTuseEOq0dAon0tb5IzAHdbkTT7E+56mSmAqrTR5O35eeaiJyS41y3mtgHit1q06J7oHRolQoYcjIbHHRac38gKlWi1aAwJV5CMT8ozJHmjuRw/0paLp38APIz3jSD580gt5TcmHJ7yyKhUpsuUpuy1KhgNRGszoJlsjdJ9obLXh4edASNMcTxMoK+F/EJZ16zeBEAAAAASUVORK5CYII="},fce7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3cXf"),o=s.n(a),i=s("IHPB"),n=s.n(i),l=s("z7R6"),r=s.n(l),c={name:"manageMachine",data:function(){return{title:"已选设备列表",noDetailImg:r.a,listData:[],chooseAll:!1,edit:!1}},computed:{getAllNoNum:function(){for(var t=0,e=0;e<this.listData.length;e++)1!=this.listData[e].pos_status&&t++;return t},getAllYesNum:function(){for(var t=0,e=0;e<this.listData.length;e++)1==this.listData[e].pos_status&&t++;return t},getChooseNoNum:function(){for(var t=0,e=0;e<this.listData.length;e++)1==this.listData[e].pos_status||this.listData[e].isChoose||t++;return t},getChooseYesNum:function(){for(var t=0,e=0;e<this.listData.length;e++)1!=this.listData[e].pos_status||this.listData[e].isChoose||t++;return t}},created:function(){var t=this;t.$Progress.start(),t.jumpFn("编辑"),t.$bridge.registerhandler("API_EDIT",function(e,s){t.editFn()}),t.init()},methods:{init:function(){window.sessionStorage.getItem("choosePosData")&&(this.listData=[].concat(n()(this.listData),n()(JSON.parse(window.sessionStorage.getItem("choosePosData"))))),this.$Progress.finish()},jumpFn:function(t){this.$bridge.callhandler("API_NAVIGATION_JUMP",{themeColor:"#2A2F33",titleColor:1,navRightButton:{btnType:1,btnTitle:t,btnHandler:"API_EDIT"},isHomePage:0},function(t){})},editFn:function(){var t=this.edit?"编辑":"完成";if(this.jumpFn(t),this.edit=!this.edit,!this.edit)for(var e=0;e<this.listData.length;e++)this.listData[e].isChoose=!0},chooseItem:function(t){this.listData[t].isChoose=!this.listData[t].isChoose,this.isAllChoose()},isAllChoose:function(){for(var t=!0,e=0;e<this.listData.length;e++)this.listData[e].isChoose&&(t=!1);t&&(this.chooseAll=!0)},chooseAllFn:function(){for(var t=0;t<this.listData.length;t++)this.listData[t].isChoose=!!this.chooseAll;this.chooseAll=!this.chooseAll},deleteChoose:function(){for(var t=0;t<this.listData.length;t++)this.listData[t].isChoose||(this.listData.splice(t,1),t--);this.isAllChoose()},goReturn:function(){window.sessionStorage.setItem("continueAdd","1"),this.$router.go(-1)},setMachine:function(){if(this.listData.length<=0)return this.$alert({content:"设备数不能为零！",sure:function(){}}),!1;window.sessionStorage.setItem("posItem",this.listData),window.sessionStorage.getItem("formSetMachine")?this.$router.go(-2):(window.sessionStorage.removeItem("choosePosData"),window.sessionStorage.setItem("choosePosData",o()(this.listData)),this.$router.push("/manage/setMachine"))}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"title",rawName:"v-title",value:t.title,expression:"title"}],staticClass:"manageMachine"},[s("ul",{staticClass:"list-ul"},[s("li",{staticClass:"list-li"},[s("section",{staticClass:"list-head"},[s("p",{staticClass:"list-head-tips color9d"},[t._v("奖励未生效"+t._s(t.getAllNoNum)+"台，奖励已生效"+t._s(t.getAllYesNum)+"台")])]),t._v(" "),t.listData.length>0?s("ul",{staticClass:"machine-ul"},t._l(t.listData,function(e,a){return s("li",{key:a,staticClass:"machine-li flex"},[t.edit?s("p",{staticClass:"choose-status",class:e.isChoose?"":"on",on:{click:function(e){return t.chooseItem(a)}}}):t._e(),t._v(" "),s("section",{staticClass:"machine-content"},[s("p",{staticClass:"machine-name bold color333"},[t._v(t._s(e.pos_sn))]),t._v(" "),s("section",{staticClass:"flex"},[s("p",{staticClass:"machine-tips bold colorEA"},[t._v(t._s(e.pos_model_name))]),t._v(" "),s("p",{staticClass:"machine-tips bold",class:1==e.pos_status?"colorEA":"colorfff"},[t._v(t._s(1==e.pos_status?"奖励已激活":"奖励未激活"))])])]),t._v(" "),s("section",{staticClass:"machine-btn item-right"},[!t.edit&&e.isChoose?s("p",{staticClass:"choose-text bold color333"},[t._v("已选择")]):t._e()])])}),0):s("section",{staticClass:"no-detail"},[s("img",{attrs:{src:t.noDetailImg}}),t._v(" "),s("p",[t._v("暂无数据")])])])]),t._v(" "),s("section",{staticClass:"footer-box"},[t.edit?s("section",{staticClass:"flex"},[s("section",{staticClass:"choose-btn"},[s("p",{staticClass:"color333 bold",class:t.chooseAll?"on":"",on:{click:t.chooseAllFn}},[t._v("全选")]),t._v(" "),s("p",{staticClass:"choose-tips color9d"},[t._v("已选：奖励未生效"+t._s(t.getChooseNoNum)+"台,奖励已生效"+t._s(t.getChooseYesNum)+"台")])]),t._v(" "),s("button",{staticClass:"delete-btn colorfff",on:{click:t.deleteChoose}},[t._v("移出列表")])]):s("section",{staticClass:"flex"},[s("section",{staticClass:"add-btn"},[s("p",{staticClass:"color9d",on:{click:t.goReturn}},[t._v("继续添加设备")])]),t._v(" "),s("button",{staticClass:"set-btn colorfff",on:{click:t.setMachine}},[t._v("划拨设备")])])])])},staticRenderFns:[]};var h=s("C7Lr")(c,d,!1,function(t){s("96uO")},"data-v-0da54fee",null);e.default=h.exports}});