webpackJsonp([24],{MqDZ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("IHPB"),o=s.n(a),n=(s("vY6+"),s("1l6p")),i={name:"setMachine",data:function(){return{title:"划拨设备",machineItem:null,posItem:[]}},computed:{getPosItemText:function(){for(var e=0;e<this.posItem.length;e++)this.posItem[e].pos_sn,e<this.posItem.length-1&&","}},created:function(){this.$Progress.start(),window.sessionStorage.removeItem("formSetMachine"),this.$bridge.callhandler("API_NAVIGATION_JUMP",{themeColor:"#2A2F33",titleColor:1,isHomePage:0},function(e){}),this.init()},methods:{init:function(){window.sessionStorage.removeItem("formSetMachine"),window.sessionStorage.getItem("machineItem")&&(this.machineItem=JSON.parse(window.sessionStorage.getItem("machineItem"))),window.sessionStorage.getItem("posItem")&&(this.posItem=[].concat(o()(JSON.parse(window.sessionStorage.getItem("posItem"))))),this.$Progress.finish()},setPosFn:function(){window.sessionStorage.setItem("formSetMachine","1"),this.$router.push("/manageList")},getPosItemCode:function(){for(var e=0;e<this.posItem.length;e++)this.posItem[e].code,e<this.posItem.length-1&&","},sureSet:function(){var e=this;if(0==e.machineItem.applyType&&0==e.posItem.length)return e.$alert({content:"请选择需划拨的设备",sure:function(){}}),!1;var t={code:e.machineItem.code,token:e.$store.state.token,applyStatus:3};e.posItem.length>0&&(t.ids=e.getPosItemCode),Object(n.x)({data:t}).then(function(t){e.Toast({message:t.data.msg,duration:2e3}),e.$router.go(-1)})}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{directives:[{name:"title",rawName:"v-title",value:e.title,expression:"title"}],staticClass:"subApplyList"},[s("section",{staticClass:"mb1"},[s("p",{staticClass:"form-title"},[e._v("接受者信息")]),e._v(" "),e.machineItem?s("section",{staticClass:"form-box color333"},[s("section",{staticClass:"form-control flex"},[e._m(0),e._v(" "),s("input",{directives:[{name:"reset-page",rawName:"v-reset-page"},{name:"model",rawName:"v-model",value:e.machineItem.name,expression:"machineItem.name"}],staticClass:"form-input",attrs:{readonly:"",type:"text",placeholder:"请输入接受者姓名"},domProps:{value:e.machineItem.name},on:{input:function(t){t.target.composing||e.$set(e.machineItem,"name",t.target.value)}}})]),e._v(" "),s("section",{staticClass:"form-control flex hide"},[s("p",{staticClass:"label bold"},[e._v("手机号：")]),e._v(" "),s("input",{directives:[{name:"reset-page",rawName:"v-reset-page"}],staticClass:"form-input",attrs:{readonly:"",type:"number",placeholder:"请输入接受者手机号"}})])]):e._e(),e._v(" "),s("p",{staticClass:"form-title"},[e._v("设备信息")]),e._v(" "),s("section",{staticClass:"form-box color333"},[s("section",{staticClass:"form-control flex"},[s("p",{staticClass:"label bold"},[e._v("机具品牌：")]),e._v(" "),s("p",{staticClass:"form-content bold"},[e._v(e._s(e.machineItem.posTypeName))])]),e._v(" "),s("section",{staticClass:"form-control flex"},[s("p",{staticClass:"label bold"},[e._v("机具型号：")]),e._v(" "),s("p",{staticClass:"form-content bold"},[e._v(e._s(e.machineItem.posModelName))])]),e._v(" "),1==e.machineItem.applyType?s("section",{staticClass:"form-control flex"},[s("p",{staticClass:"label bold"},[e._v("设备编号：")]),e._v(" "),s("p",{staticClass:"form-content bold"},[e._v(e._s(e.machineItem.posSn)+e._s(e.machineItem.pos_sn_begin?","+e.machineItem.pos_sn_begin+"-"+e.machineItem.pos_sn_end:""))])]):s("section",[s("section",{staticClass:"form-control flex"},[s("p",{staticClass:"label bold"},[e._v("机具数量：")]),e._v(" "),s("p",{staticClass:"form-content bold"},[e._v(e._s(e.machineItem.applyNum)+"台")])]),e._v(" "),s("section",{staticClass:"form-control flex"},[s("p",{staticClass:"label bold"},[e._v("选择设备：")]),e._v(" "),s("input",{directives:[{name:"reset-page",rawName:"v-reset-page"}],staticClass:"form-input right-arr",attrs:{readonly:"",placeholder:"请选择设备",type:"text"},on:{click:e.setPosFn}})])])]),e._v(" "),s("p",{staticClass:"all-machine bold color9d"},[e._v("已选设备："+e._s(e.posItem.length>0?e.getPosItemText:"暂未选择"))])]),e._v(" "),s("button",{staticClass:"footer-btn",on:{click:e.sureSet}},[e._v("确认划拨")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"label bold"},[this._v("姓"),t("span",{staticClass:"vhide"},[this._v("名")]),this._v("名：")])}]};var l=s("C7Lr")(i,r,!1,function(e){s("hdqF")},"data-v-22f47aad",null);t.default=l.exports},dnok:function(e,t,s){var a=s("L4zZ");(e.exports=s("UTlt")(!1)).push([e.i,".form-content[data-v-22f47aad]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:.36rem .2rem}.right-arr[data-v-22f47aad]{background:url("+a(s("VEeA"))+") no-repeat 100%;background-size:.24rem auto}.all-machine[data-v-22f47aad]{padding:.22rem .28rem;font-size:.28rem}",""])},hdqF:function(e,t,s){var a=s("dnok");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("FIqI")("66bec6ed",a,!0,{})}});